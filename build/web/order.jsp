<%@ page import="java.util.*, java.text.DecimalFormat" %><%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html><html><head><meta charset="utf-8"><title>Order</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"></head><body><div class="container mt-4"><h3>Your Cart</h3><% List<Map<String,Object>> cart = (List<Map<String,Object>>) session.getAttribute("cart"); if(cart==null||cart.isEmpty()){ %><div class="alert alert-info">Cart is empty. <a href="menu.jsp">Go to Menu</a></div><% } else { double total=0; DecimalFormat df=new DecimalFormat("0.00"); %><table class="table"><thead><tr><th>#</th><th>Item</th><th>Qty</th><th>Price</th><th>Subtotal</th></tr></thead><tbody><% int i=1; for(Map<String,Object> it:cart){ int qty=(Integer)it.get("quantity"); double price=(Double)it.get("price"); double sub=qty*price; total+=sub; %><tr><td><%=i++%></td><td><%=it.get("name")%></td><td><%=qty%></td><td>₹<%=df.format(price)%></td><td>₹<%=df.format(sub)%></td></tr><% } %></tbody></table><h4>Total: ₹<%= df.format(total) %></h4><form action="order" method="post"><button class="btn btn-success">Place Order</button></form><% } %></div></body></html>
